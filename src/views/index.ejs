<!DOCTYPE html>
<html lang="en">

<head>
    <% include partials/head %>
</head>



<body class="container">

    <style>
        #chartdiv {
            width: 100%;
            height: 300px;
          }
    </style>

      <div class="row">
        <div class="col-10"> <!--Col Val -->
          <div class="row">
            <div class="col-4">
              <div class="list-group" id="list-tab" role="tablist">
                <a class="list-group-item list-group-item-action active" id="list-home-list" data-toggle="list" href="#list-home" role="tab" aria-controls="home">User Info</a>
                <a class="list-group-item list-group-item-action" id="list-profile-list" data-toggle="list" href="#list-profile" role="tab" aria-controls="profile">Edit User</a>
                <a class="list-group-item list-group-item-action" id="list-messages-list" data-toggle="list" href="#list-messages" role="tab" aria-controls="messages">Delete User</a>
                <a class="list-group-item list-group-item-action" id="list-show-metrics-list" data-toggle="list" href="#list-show-metrics" role="tab" aria-controls="ShowMetrics">Show Metrics</a>
                <a class="list-group-item list-group-item-action" id="list-create-metrics-list" data-toggle="list" href="#list-create-metrics" role="tab" aria-controls="CreateMetrics">Create Metrics</a>
              </div>
            </div>
            <div class="col-8">
              <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">
                  <h3>User Info</h3>
                
                </div>
                <div class="tab-pane fade" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list">
                  <h3>User Edit</h3>
      
                </div>
                <div class="tab-pane fade" id="list-messages" role="tabpanel" aria-labelledby="list-messages-list">
                  <h3>Delete User</h3>
                </div>
                <div class="tab-pane fade" id="list-show-metrics" role="tabpanel" aria-labelledby="list-show-metrics-list">
                  <h3>Show My metrics</h3>

                      <div class="col-md-6 col-md-offset-3">
                        <h1>Hello <%= name %></h1>
                        <button class="btn btn-success" id="show-metrics">
                            Bring the metrics
                        </button>
                        <div id="metrics"></div>
                        <div id="username"></div>
                        <div id="email"></div>
                        <div id="password"></div>
                    </div>
      
                </div>
                <div class="tab-pane fade" id="list-create-metrics" role="tabpanel" aria-labelledby="list-create-metrics-list">
                  <h3>Create metrics</h3>

                      <div class="col-md-6 col-md-offset-3">
                        
                        <button class="btn btn-success" id="show-metrics">
                            Bring the metrics
                        </button>
                        
                        <div id="metrics"></div>
                    </div>
      
                </div>
              </div>
            </div>
          </div>

        </div>
        <div class="col-2">  <!--Col Val -->
          <button class="btn btn-danger" href="/logout" onClick='document.location.href="/logout"'>
            Logout
          </button>
        </div>
      </div>
    

   






      <div id="chartContainer" style="height: 300px; width: 100%;"></div>


      <div id="chartdiv"></div>
</body>

</html>
<script>
  /*  $('#show-metrics').click((e) => {
        e.preventDefault();
        $.getJSON("/metrics.json", {}, (data) => {
            const content = data.map(d => {
                return 'timestamp: ' + d.timestamp + ', value: ' + d.value + '';
            })
            $('#metrics').append(content.join("\n"));
        });
    })   */
  
    $('#show-metrics').click((e) => {
      e.preventDefault();
      $.getJSON("user/kad", {}, (data) => {
          console.log(data.username);
          $('username').val(data.username);
          $('email').val(data.email); 
          $('password').val(data.password);
      });
  }) 
    
</script>

<!-- <script src="/js/jquery-3.4.1.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>

<!-- https://canvasjs.com/docs/charts/basics-of-creating-html5-chart/date-time-axis/ -->

<script type="text/javascript">
    window.onload = function () {
        var chart = new CanvasJS.Chart("chartContainer",
        {
          title:{
            text: "Simple Date-Time Chart"
        },
        axisX:{
            title: "timeline",
            gridThickness: 2
        },
        axisY: {
            title: "Downloads"
        },
        data: [
        {        
            type: "area",
            dataPoints: [//array
            { x: new Date(2012, 01, 1), y: 26},
            { x: new Date(2012, 01, 3), y: 38},
            { x: new Date(2012, 01, 5), y: 43},
            { x: new Date(2012, 01, 7), y: 29},
            { x: new Date(2012, 01, 11), y: 41},
            { x: new Date(2012, 01, 13), y: 54},
            { x: new Date(2012, 01, 20), y: 66},
            { x: new Date(2012, 01, 21), y: 60},
            { x: new Date(2012, 01, 25), y: 53},
            { x: new Date(2012, 01, 27), y: 60}
    
            ]
        }
        ]
    });
    
        chart.render();



        var chart = AmCharts.makeChart("chartdiv", {
            "type": "serial",
            "theme": "light",
            "dataProvider": [{
              "timestamp": 1485343314150,
              "value": 3
            },{
              "timestamp": 1485343314300,
              "value": 2
            },{
              "timestamp": 1485343314400,
              "value": 1
            },{
              "timestamp": 1485343314450,
              "value": 1
            }],
            "graphs": [{
              "bullet": "round",
              "type": "smoothedLine",
              "valueField": "value"
            }],
            "categoryField": "timestamp",
            "categoryAxis": {
              "parseDates": true,
              "minPeriod": "fff"
            }
          });

          
    }
    </script>
    <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <script src="//www.amcharts.com/lib/3/amcharts.js"></script>
    <script src="//www.amcharts.com/lib/3/serial.js"></script>
    <script src="//www.amcharts.com/lib/3/themes/light.js"></script>